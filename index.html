<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Paste → Print (100×75) Plain</title>

<style>
@page { size: 100mm 75mm; margin: 0; }

html, body {
  margin: 0;
  padding: 0;
  font-family: Tahoma, Arial, sans-serif;
}

/* มีผลเฉพาะตอนยังไม่พิมพ์ */
.controls { margin: 8px; }
.controls { margin-bottom: 12px; }

textarea {
  width: 100%;
  height: 260px;
  font-size: 14px;
}

button {
  padding: 8px 14px;
  font-size: 15px;
  margin-top: 6px;
  cursor: pointer;
}

/* ลาเบล */
.label {
  width: 100mm;
  height: 75mm;

  /* ลดขอบให้เต็มขึ้น */
  padding: 3mm;
  box-sizing: border-box;

  /* ตัวใหญ่ขึ้น */
  font-size: 15pt;
  line-height: 1.18;

  white-space: pre-wrap;
  border: 1px dashed #999;

  /* 1 ลาเบล = 1 หน้า */
  page-break-after: always;
}

/* กันหน้าว่างท้ายสุด */
.label:last-child {
  page-break-after: auto;
}

@media print {
  .controls { display: none; }
  .label { border: none; }
}
</style>

</head>

<body>

<div class="controls">
  <h3>Paste → Print (100×75) — Plain</h3>
  <p>ใช้ <b>"</b> ครอบ 1 ลาเบล ระบบทำแค่ขึ้นหน้าใหม่ (ไม่แก้ข้อความ)</p>

  <textarea id="input" placeholder='วางข้อมูล เช่น

"เก็บเงิน 299 บาท. B2

อาภัทยา พันธุมิตร
147 หมู่ที่ 16
ต.อาจสามารถ
อ.อาจสามารถ
จ.ร้อยเอ็ด
45160
0884235054"

"คุณ เฉลิมขวัญ
13/4
หมู่13
ต.คลองห้า
อ.คลองหลวง
จ.ปทุมธานี
12120
0847596746
B2"
'></textarea><br>

  <button onclick="build()">สร้างลาเบล</button>
  <button onclick="window.print()">พิมพ์</button>
</div>

<div id="out"></div>

<script>
function build(){
  const raw = document.getElementById('input').value || '';
  const out = document.getElementById('out');
  out.innerHTML = '';
  if(!raw.trim()) return;

  // แยกลาเบลด้วยเครื่องหมาย "
  const blocks = raw
    .split('"')
    .map(b => b.trim())
    .filter(b => b.length > 0);

  blocks.forEach(text => {
    const div = document.createElement('div');
    div.className = 'label';
    div.textContent = text; // พิมพ์ตรงตามที่ได้มา
    out.appendChild(div);
  });
}
</script>

</body>
</html>
